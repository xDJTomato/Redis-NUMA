===============================================
  Redis NUMA内存池诊断报告
  生成时间: Sat Feb 14 13:49:22 CST 2026
===============================================

=== 系统环境 ===
操作系统: Linux 6.14.0-37-generic
CPU核心: 20
               total        used        free      shared  buff/cache   available
内存：          15Gi       7.2Gi       1.6Gi       875Mi       7.6Gi       8.1Gi
交换：         6.9Gi       1.8Gi       5.0Gi

=== NUMA拓扑 ===
available: 1 nodes (0)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19
node 0 size: 15680 MB
node 0 free: 1641 MB
node distances:
node   0 
  0:  10 

=== Redis配置 ===
目标内存: 5632MB (50%)
并发客户端: 20
管道深度: 8

=== 诊断数据文件 ===
总计 200K
-rw-rw-r-- 1 xdjtomato xdjtomato  759 Feb 14 13:49 DIAGNOSIS_SUMMARY.txt
-rw-rw-r-- 1 xdjtomato xdjtomato   52 Feb 14 13:49 fragmentation.txt
-rw-rw-r-- 1 xdjtomato xdjtomato 174K Feb 14 13:49 memory_blocks.txt
-rw-rw-r-- 1 xdjtomato xdjtomato  844 Feb 14 13:49 memory_timeline.csv
-rw-rw-r-- 1 xdjtomato xdjtomato  470 Feb 14 13:49 numa_distribution.txt
-rw-rw-r-- 1 xdjtomato xdjtomato 1.1K Feb 14 13:49 redis_memory_info.txt
-rw-rw-r-- 1 xdjtomato xdjtomato  139 Feb 14 13:49 smaps_summary.txt

=== 关键发现 ===
1. 内存碎片率:
Fragmentation_Ratio: 1.99
Fragmentation_Ratio: 2.00

2. CPU热点 (Top 10):
  未采集

3. 系统调用开销:
  未采集

=== 建议 ===
1. 查看 perf_cpu_report.txt 分析CPU热点函数
2. 查看 memory_timeline.csv 分析内存增长趋势
3. 查看 numa_distribution.txt 分析NUMA节点分布是否均衡
4. 如果碎片率>1.5，考虑优化内存池chunk大小
5. 如果有大量numa_alloc_onnode调用，考虑增大内存池

